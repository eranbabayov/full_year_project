<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Security Quiz</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='website1.css') }}">
</head>
<body>
    <div class="container">
            <!-- QuestionID 0: Broken Access Control -->
            <div class="question" id="question1">
                <h2>0. Broken Access Control</h2>
                <div class="box" id="code-box1">
                    <h3>Identify the error in the code:</h3>
                    <pre>
    <code>
        (1) from flask import Flask, request, jsonify

        (2) app = Flask(__name__)

        (3) @app.route('/view_profile', methods=['GET'])
        (4) def view_profile():
        (5)     user_id = request.args.get('user_id')
        (6)         with open(f""/home/users/{user_id}.json"", ""r"") as f:
        (7)             profile = f.read()
        (8)         return jsonify({""profile"": profile})

        (9) if __name__ == '__main__':
        (10)    app.run()
    </code>
                    </pre>
                    <p>Enter row number:</p>
                    <input type="text" id="q1" name="q1" required>
                    <button onclick="detectError('question1')" style="width: 80px; height: 20px;">Submit</button>
                </div>
                <div id="answer-box1" class="answer-box">
                    <div class="left-section">
                        <h2>The incorrect code line is:</h2>
                        <p>This line is the incorrect one for question 1</p>
                    </div>
                    <div class="right-section">
                        <h2>Choose the best correction:</h2>
                        <div class="Correction_options">
                            <button onclick="openTextBox('1', '1')">1</button>
                            <button onclick="openTextBox('1', '2')">2</button>
                            <button onclick="openTextBox('1', '3')">3</button>
                            <button onclick="openTextBox('1', '4')">4</button>
                        </div>
                        <div id="answerText1"></div>
                        <br><br>
                        <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                </div>
            </div>

            <!-- QuestionID 1: Broken Access Control -->
            <div class="question" id="question2" style="display: none;">
                <h2>1. Cryptographic Failure</h2>
                <div class="box" id="code-box2">
                    <h3>Identify the error in the code:</h3>
                    <pre>
    <code>
        (1)from flask import Flask, request, jsonify

        (2)app = Flask(__name__)

        (3)@app.route('/update_role', methods=['POST'])
        (4)def update_role():
        (5)    user_id = request.form['user_id']
        (6)    new_role = request.form['role']
        (7)    # Update the role in the database
        (8)    update_user_role(user_id, new_role)
        (9)    return jsonify({""message"": ""Role updated successfully""})

        (10)if __name__ == '__main__':
        (11)    app.run()

    </code>
                    </pre>
                    <button onclick="detectError('question2')" style="width: 80px; height: 20px;">Submit</button>
                </div>
                <div id="answer-box2" class="answer-box">
                    <div class="left-section">
                        <h2>The incorrect code line is:</h2>
                        <p>This line is the incorrect one for question 2</p>
                    </div>
                    <div class="right-section">
                        <h2>Choose the best correction:</h2>
                        <div class="Correction_options">
                            <button onclick="openTextBox('2', '1')">1</button>
                            <button onclick="openTextBox('2', '2')">2</button>
                            <button onclick="openTextBox('2', '3')">3</button>
                            <button onclick="openTextBox('2', '4')">4</button>
                        </div>
                        <div id="answerText2"></div>
                        <br><br>
                        <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                </div>
            </div>

             <!-- QuestionID 3: Cryptographic Failures -->
        <div class="question" id="question3" style="display: none;">
            <h2> 2. Cryptographic Failures</h2>
            <div class="box" id="code-box3">
                <h3>Identify the error in the code:</h3>
                <pre>
                    <code>
                        (1)from flask import Flask, request, jsonify
                        (2)import hashlib

                        (3)app = Flask(__name__)

                        (4)@app.route('/hash_password', methods=['POST'])
                        (5)def hash_password():
                        (6)    password = request.form['password']
                        (7)    hashed_password = hashlib.md5(password.encode('utf-8')).hexdigest()
                        (8)    return jsonify({""hashed_password"": hashed_password})

                        (9)if __name__ == '__main__':
                        (10)    app.run()
                    </code>
                </pre>
                <button onclick="detectError('question3')" style="width: 80px; height: 20px;">Submit</button>
            </div>
                <div id="answer-box3" class="answer-box">
                    <div class="left-section">
                        <h2>The incorrect code line is:</h2>
                        <p>This line is the incorrect one for question 3</p>
                    </div>
                    <div class="right-section">
                        <h2>Choose the best correction:</h2>
                        <div class="Correction_options">
                            <button onclick="openTextBox('3', '1')">1</button>
                            <button onclick="openTextBox('3', '2')">2</button>
                            <button onclick="openTextBox('3', '3')">3</button>
                            <button onclick="openTextBox('3', '4')">4</button>
                        </div>
                        <div id="answerText3"></div>
                        <br><br>
                        <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                </div>
            </div>


             <!-- QuestionID 2: Cryptographic Failures -->
         <div class="question" id="question4" style="display: none;">
            <h2> 4. Insecure Design</h2>
            <div class="box" id="code-box4">
                <h3>Identify the error in the code:</h3>
                <pre>
                    <code>
                        (1) from flask import Flask, request, jsonify

                        (2) app = Flask(__name__)

                        (3) @app.route('/encrypt', methods=['POST'])
                        (4) def encrypt():
                        (5)     data = request.form['data']
                        (6)     encrypted_data = data.encode('utf-8').hex()
                        (7)     return jsonify({""encrypted_data"": encrypted_data})

                        (8) if __name__ == '__main__':
                        (9)      app.run()
                    </code>
                </pre>
                <button onclick="detectError('question4')" style="width: 80px; height: 20px;">Submit</button>
            </div>
                <div id="answer-box4" class="answer-box">
                    <div class="left-section">
                        <h2>The incorrect code line is:</h2>
                        <p>This line is the incorrect one for question 4</p>
                    </div>
                    <div class="right-section">
                        <h2>Choose the best correction:</h2>
                        <div class="Correction_options">
                            <button onclick="openTextBox('4', '1')">1</button>
                            <button onclick="openTextBox('4', '2')">2</button>
                            <button onclick="openTextBox('4', '3')">3</button>
                            <button onclick="openTextBox('4', '4')">4</button>
                        </div>
                        <div id="answerText4"></div>
                        <br><br>
                        <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                </div>
            </div>

              <!-- QuestionID 4: Injection -->
              <div class="question" id="question5" style="display: none;">
                <h2> 5. Security Misconfiguration</h2>
                <div class="box" id="code-box5">
                    <h3>Identify the error in the code:</h3>
                    <pre>
                        <code>
                            (1) from flask import Flask, request, jsonify
                            (2) import sqlite3

                            (3) app = Flask(__name__)

                            (4) @app.route('/get_product', methods=['GET'])
                            (5) def get_product():
                            (6)     product_id = request.args.get('product_id')
                            (7)     conn = sqlite3.connect('example.db')
                            (8)     cursor = conn.cursor()
                            (9)     query = f""SELECT * FROM products WHERE id = {product_id}""
                            (10)     cursor.execute(query)
                            (11)     result = cursor.fetchone()
                            (12)     conn.close()
                            (13)     return jsonify(result)

                            (14) if __name__ == '__main__':
                            (15)     app.run()
                        </code>
                    </pre>
                     <button onclick="detectError('question5')" style="width: 80px; height: 20px;">Submit</button>
            </div>
                <div id="answer-box5" class="answer-box">
                    <div class="left-section">
                        <h2>The incorrect code line is:</h2>
                        <p>This line is the incorrect one for question 5</p>
                    </div>
                    <div class="right-section">
                        <h2>Choose the best correction:</h2>
                        <div class="Correction_options">
                            <button onclick="openTextBox('5', '1')">1</button>
                            <button onclick="openTextBox('5', '2')">2</button>
                            <button onclick="openTextBox('5', '3')">3</button>
                            <button onclick="openTextBox('5', '4')">4</button>
                        </div>
                        <div id="answerText5"></div>
                        <br><br>
                        <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                </div>
            </div>


             <!-- QuestionID 5: Injection -->
             <div class="question" id="question6" style="display: none;">
                <h2> 6. Vulnerable and Outdated Components</h2>
                <div class="box" id="code-box6">
                    <h3>Identify the error in the code:</h3>
                    <pre>
                        <code>
                            (1) from flask import Flask, request, jsonify
                            (2) import mysql.connector

                            (3) app = Flask(__name__)

                            (4) @app.route('/get_order', methods=['GET'])
                            (5) def get_order():
                            (6)     order_id = request.args.get('order_id')
                            (7)     conn = mysql.connector.connect(user='root', password='password', host='localhost', database='shop')
                            (8)     cursor = conn.cursor()
                            (9)     query = f""SELECT * FROM orders WHERE id = {order_id}""
                            (10)     cursor.execute(query)
                            (11)     result = cursor.fetchone()
                            (12)     conn.close()
                            (13)     return jsonify(result)

                            (14) if __name__ == '__main__':
                            (15)     app.run()
                        </code>
                    </pre>
                    <button onclick="detectError('question6')" style="width: 80px; height: 20px;">Submit</button>
                </div>
                    <div id="answer-box6" class="answer-box">
                        <div class="left-section">
                            <h2>The incorrect code line is:</h2>
                            <p>This line is the incorrect one for question 6</p>
                        </div>
                        <div class="right-section">
                            <h2>Choose the best correction:</h2>
                            <div class="Correction_options">
                                <button onclick="openTextBox('6', '1')">1</button>
                                <button onclick="openTextBox('6', '2')">2</button>
                                <button onclick="openTextBox('6', '3')">3</button>
                                <button onclick="openTextBox('6', '4')">4</button>
                            </div>
                            <div id="answerText6"></div>
                            <br><br>
                            <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                        </div>
                    </div>
                </div>



                 <!-- QuestionID 6: Insecure Design -->
             <div class="question" id="question7" style="display: none;">
                <h2> 7. Identification and Authentication</h2>
                <div class="box" id="code-box7">
                    <h3>Identify the error in the code:</h3>
                    <pre>
                        <code>
                            "
                        (1) from flask import Flask, request, jsonify

                        (2) app = Flask(__name__)

                        (3) users = []

                        (4) @app.route('/register', methods=['POST'])
                        (5) def register():
                        (6)     user_data = request.json
                        (7)     users.append(user_data)
                        (8)     return jsonify({""message"": ""User registered successfully""})

                        (9) @app.route('/login', methods=['POST'])
                        (10) def login():
                        (11)     login_data = request.json
                        (12)     for user in users:
                        (13)         if user['username'] == login_data['username'] and user['password'] == login_data['password']:
                        (14)         return jsonify({""message"": ""Login successful""})
                        (15) return jsonify({""error"": ""Invalid username or password""}), 401

                        (16) if __name__ == '__main__':
                        (17)     app.run()
                        </code>
                    </pre>
                    <button onclick="detectError('question7')" style="width: 80px; height: 20px;">Submit</button>
                </div>
                    <div id="answer-box7" class="answer-box">
                        <div class="left-section">
                            <h2>The incorrect code line is:</h2>
                            <p>This line is the incorrect one for question 7</p>
                        </div>
                        <div class="right-section">
                            <h2>Choose the best correction:</h2>
                            <div class="Correction_options">
                                <button onclick="openTextBox('7', '1')">1</button>
                                <button onclick="openTextBox('7', '2')">2</button>
                                <button onclick="openTextBox('7', '3')">3</button>
                                <button onclick="openTextBox('7', '4')">4</button>
                            </div>
                            <div id="answerText7"></div>
                            <br><br>
                            <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                        </div>
                    </div>
                </div>


                <!-- QuestionID 7: Failures   -->
             <div class="question" id="question8" style="display: none;">
                <h2> 8. Failures</h2>
                <div class="box" id="code-box8">
                    <h3>Identify the error in the code:</h3>
                    <pre>
                        <code>
                            (1) from flask import Flask, request, jsonify

                            (2) app = Flask(__name__)

                            (3) @app.route('/update_profile', methods=['POST'])
                            (4) def update_profile():
                            (5)     user_data = request.json
                            (6)     # No authentication check
                            (7)     return jsonify({""message"": ""Profile updated successfully""})

                            (8) if __name__ == '__main__':
                            (9)     app.run()
                        </code>
                        </code>
                    </pre>
                    <button onclick="detectError('question8')" style="width: 80px; height: 20px;">Submit</button>
                </div>
                    <div id="answer-box8" class="answer-box">
                        <div class="left-section">
                            <h2>The incorrect code line is:</h2>
                            <p>This line is the incorrect one for question 8</p>
                        </div>
                        <div class="right-section">
                            <h2>Choose the best correction:</h2>
                            <div class="Correction_options">
                                <button onclick="openTextBox('8', '1')">1</button>
                                <button onclick="openTextBox('8', '2')">2</button>
                                <button onclick="openTextBox('8', '3')">3</button>
                                <button onclick="openTextBox('8', '4')">4</button>
                            </div>
                            <div id="answerText8"></div>
                            <br><br>
                            <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                        </div>
                    </div>
                </div>


                <!-- QuestionID 8: Security Misconfiguration   -->
                <div class="question" id="question9" style="display: none;">
                    <h2> 9. Software and Data Integrity Failures</h2>
                    <div class="box" id="code-box9">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask

                                (2) app = Flask(__name__)

                                (3) app.config['DEBUG'] = True

                                (4) @app.route('/')
                                (5) def index():
                                (6)     return ""Hello, World!""

                                (7) if __name__ == '__main__':
                                (8)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question9')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box9" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 9</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('9', '1')">1</button>
                                    <button onclick="openTextBox('9', '2')">2</button>
                                    <button onclick="openTextBox('9', '3')">3</button>
                                    <button onclick="openTextBox('9', '4')">4</button>
                                </div>
                                <div id="answerText9"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>


                     <!-- QuestionID 9: Security Misconfiguration   -->
                 <div class="question" id="question10" style="display: none;">
                    <h2> 10. Security Logging and Monitoring</h2>
                    <div class="box" id="code-box10">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask

                                (2) app = Flask(__name__)

                                (3) app.config['SECRET_KEY'] = 'hardcoded_secret_key'

                                (4) @app.route('/')
                                (5) def index():
                                (6)     return ""Hello, World!""

                                (7) if __name__ == '__main__':
                                (8)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question10')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box10" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 10</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('10', '1')">1</button>
                                    <button onclick="openTextBox('10', '2')">2</button>
                                    <button onclick="openTextBox('10', '3')">3</button>
                                    <button onclick="openTextBox('10', '4')">4</button>
                                </div>
                                <div id="answerText10"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>


                     <!-- QuestionID 10: Security Misconfiguration   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask

                                (2) app = Flask(__name__)

                                (3) @app.route('/')
                                (4) def index():
                                (5)     return ""Hello, World!""

                                (6) if __name__ == '__main__':
                                (7)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 11: Vulnerable and Outdates Components   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask, request, jsonify
                                (2) import requests

                                (3) app = Flask(__name__)

                                (4) @app.route('/proxy', methods=['POST'])
                                (5) def proxy_request():
                                (6)     data = request.json
                                (7)     response = requests.post(""http://example.com/api"", json=data)
                                (8)     return jsonify(response.json())

                                (9) if __name__ == '__main__':
                                (10)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 12: Vulnerable and Outdates Components   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask, request, jsonify
                                (2) import jwt

                                (3) app = Flask(__name__)

                                (4) @app.route('/token', methods=['POST'])
                                (5) def generate_token():
                                (6)     user_data = request.json
                                (7)     token = jwt.encode(user_data, ""secret"", algorithm=""HS256"")
                                (8)     return jsonify({""token"": token})

                                (9) if __name__ == '__main__':
                                (10)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 13: Vulnerable and Outdates Components   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask
                                (2) import yaml

                                (3) app = Flask(__name__)

                                (4) @app.route('/config', methods=['POST'])
                                (5) def load_config():
                                (6)     config_data = request.data
                                (7)     config = yaml.safe_load(config_data)
                                (8)     return str(config)

                                (9) if __name__ == '__main__':
                                (10)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 14: Identification and Authentication Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) users = [
                                (4)     {""username"": ""user1"", ""password"": ""password1""},
                                (5)     {""username"": ""user2"", ""password"": ""password2""}
                                (6) ]

                                (7) @app.route('/login', methods=['POST'])
                                (8) def login():
                                (9)     login_data = request.json
                                (10)     for user in users:
                                (11)         if user['username'] == login_data['username'] and user['password'] == login_data['password']:
                                (12)             return jsonify({""message"": ""Login successful""})
                                (13) return jsonify({""error"": ""Invalid username or password""}), 401

                                (14) if __name__ == '__main__':
                                (15)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 15: Identification and Authentication Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) users = [
                                (4)     {""username"": ""admin"", ""password"": ""admin""},
                                (5)     {""username"": ""guest"", ""password"": ""guest""}
                                (6) ]

                                (7) @app.route('/admin', methods=['POST'])
                                (8) def admin_login():
                                (9)     login_data = request.json
                                (10)     for user in users:
                                (11)         if user['username'] == login_data['username'] and user['password'] == login_data['password']:
                                (12)             return jsonify({""message"": ""Welcome, admin!""})
                                (13)     return jsonify({""error"": ""Invalid credentials""}), 401

                                (14) if __name__ == '__main__':
                                (15)     app.run()
                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 16: Identification and Authentication Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) users = [
                                (4)     {""username"": ""admin"", ""password"": ""admin123""},
                                (5)     {""username"": ""user"", ""password"": ""user123""}
                                (6) ]

                                (7) @app.route('/change-password', methods=['POST'])
                                (8) def change_password():
                                (9)     data = request.json
                                (10)     for user in users:
                                (11)         if user['username'] == data['username'] and user['password'] == data['old_password']:
                                (12)             user['password'] = data['new_password']
                                (13)             return jsonify({""message"": ""Password changed successfully""})
                                (14)     return jsonify({""error"": ""Invalid credentials""}), 401

                                (15) if __name__ == '__main__':
                                (16)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 17: Software and Data Integrity Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>
                                (1) from flask import Flask, request, jsonify
                                (2) import subprocess

                                (3) app = Flask(__name__)

                                (4) @app.route('/run-command', methods=['POST'])
                                (5) def run_command():
                                (6)     data = request.json
                                (7)     command = data['command']
                                (8)     result = subprocess.run(command, shell=True, capture_output=True, text=True)
                                (9)     return jsonify({""output"": result.stdout})

                                (10) if __name__ == '__main__':
                                (11)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 18: Software and Data Integrity Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) @app.route('/update-data', methods=['POST'])
                                (4) def update_data():
                                (5)     data = request.json
                                (6)     with open('data.txt', 'w') as file:
                                (7)         file.write(data['content'])
                                (8)     return jsonify({""message"": ""Data updated successfully""})

                                (9) if __name__ == '__main__':
                                (10)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 19: Software and Data Integrity Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) @app.route('/restore-data', methods=['POST'])
                                (4) def restore_data():
                                (5)     data = request.json
                                (6)     backup_file = data['backup_file']
                                (7)     with open('data.txt', 'w') as file:
                                (8)         with open(backup_file, 'r') as backup:
                                (9)             file.write(backup.read())
                                (10) return jsonify({""message"": ""Data restored successfully""})

                                (11) if __name__ == '__main__':
                                (12)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 20: Security Logging and Monitoring Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) @app.route('/login', methods=['POST'])
                                (4) def login():
                                (5)     data = request.json
                                (6)     username = data['username']
                                (7)     password = data['password']
                                (8) if username == ""admin"" and password == ""password123"":
                                (9)     return jsonify({""message"": ""Login successful""})
                                (10) else:
                                (11)     return jsonify({""error"": ""Invalid credentials""}), 401

                                (12) if __name__ == '__main__':
                                (13)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 21: Security Logging and Monitoring Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) @app.route('/transfer', methods=['POST'])
                                (4) def transfer():
                                (5)     data = request.json
                                (6)     from_account = data['from_account']
                                (7)     to_account = data['to_account']
                                (8)     amount = data['amount']
                                (9)     # Assume the transfer logic here
                                (10)     return jsonify({""message"": ""Transfer completed""})

                                (11) if __name__ == '__main__':
                                (12)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 22: Security Logging and Monitoring Failures   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify

                                (2) app = Flask(__name__)

                                (3) @app.route('/data-access', methods=['GET'])
                                (4) def data_access():
                                (5)     data_id = request.args.get('id')
                                (6)     # Assume data fetching logic here
                                (7)     return jsonify({""message"": ""Data fetched successfully""})

                                (8) if __name__ == '__main__':
                                (9)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 23: Server-Side Request Forgery (SSRF)   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify
                                (2) import requests

                                (3) app = Flask(__name__)

                                (4) @app.route('/fetch-data', methods=['POST'])
                                (5) def fetch_data():
                                (6)     data = request.json
                                (7)     url = data['url']
                                (8)     response = requests.get(url)
                                (9)     return jsonify({""data"": response.text})

                                (10) if __name__ == '__main__':
                                (11)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 24: Server-Side Request Forgery (SSRF)   -->
                 <div class="question" id="question11" style="display: none;">
                    <h2> 11. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box11">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify
                                (2) import requests

                                (3) app = Flask.__name__

                                (4) @app.route('/proxy', methods=['POST'])
                                (5) def proxy():
                                (6)     data = request.json
                                (7)     url = data['url']
                                (8)     response = requests.get(url)
                                (9)     return jsonify({""data"": response.text})

                                (10) if __name__ == '__main__':
                                (11)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>

                     <!-- QuestionID 25: Server-Side Request Forgery (SSRF)   -->
                 <div class="question" id="question25" style="display: none;">
                    <h2> 25. Server-Side Request Forgery (SSRF)</h2>
                    <div class="box" id="code-box25">
                        <h3>Identify the error in the code:</h3>
                        <pre>
                            <code>

                                (1) from flask import Flask, request, jsonify
                                (2) import requests

                                (3) app = Flask.__name__

                                (4) @app.route('/fetch-content', methods=['POST'])
                                (5) def fetch_content():
                                (6)     data = request.json
                                (7)     url = data['url']
                                (8)     response = requests.get(url)
                                (9)     return jsonify({""content"": response.text})

                                (10) if __name__ == '__main__':
                                (11)     app.run()

                            </code>
                        </pre>
                        <button onclick="detectError('question11')" style="width: 80px; height: 20px;">Submit</button>
                    </div>
                        <div id="answer-box11" class="answer-box">
                            <div class="left-section">
                                <h2>The incorrect code line is:</h2>
                                <p>This line is the incorrect one for question 11</p>
                            </div>
                            <div class="right-section">
                                <h2>Choose the best correction:</h2>
                                <div class="Correction_options">
                                    <button onclick="openTextBox('11', '1')">1</button>
                                    <button onclick="openTextBox('11', '2')">2</button>
                                    <button onclick="openTextBox('11', '3')">3</button>
                                    <button onclick="openTextBox('11', '4')">4</button>
                                </div>
                                <div id="answerText11"></div>
                                <br><br>
                                <button onclick="nextQuestion()" style="width: 80px; height: 20px;">Submit</button>
                            </div>
                        </div>
                    </div>



        <!-- Navigation buttons -->
        <div class="navigation">
            <button id="prevButton" onclick="showPrev()">Previous</button>
            <button id="nextButton" onclick="showNext()">Next</button>
        </div>
    </div>

    <script>
        var currentQuestionIndex = 1;
        const totalQuestions = 11;  // Update this as you add more questions

        function showNext() {
            document.getElementById('question' + currentQuestionIndex).style.display = 'none';
            currentQuestionIndex = (currentQuestionIndex % totalQuestions) + 1;
            document.getElementById('question' + currentQuestionIndex).style.display = 'block';
        }

        function showPrev() {
            document.getElementById('question' + currentQuestionIndex).style.display = 'none';
            currentQuestionIndex = (currentQuestionIndex - 2 + totalQuestions) % totalQuestions + 1;
            document.getElementById('question' + currentQuestionIndex).style.display = 'block';
        }

        function openTextBox(questionNum, buttonNum) {
            var answerText = '';
            switch (buttonNum) {
                case '1':
                    answerText = "Blablablablablabla for option " + buttonNum + " - question " + questionNum + ".";
                    break;
                case '2':
                    answerText = "Another text for option " + buttonNum + " - question " + questionNum + ".";
                    break;
                case '3':
                    answerText = "Text for option " + buttonNum + " - question " + questionNum + ".";
                    break;
                case '4':
                    answerText = "Additional text for option " + buttonNum + " - question " + questionNum + ".";
                    break;
                default:
                    answerText = "Default text - question " + questionNum + ".";
            }
            document.getElementById('answerText' + questionNum).innerHTML = '<p>You chose answer number ' + buttonNum + '</p><p>' + answerText + '</p>';
        }

        function nextQuestion() {
            showNext();
        }
    </script>
</body>
</html>
